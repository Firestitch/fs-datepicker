<div class="fs-datetime-backdrop" [hidden]="!parentInstance.opened" (click)="close($event)"></div>

<div class="fs-datetime-dialog" tabindex="0"
[ngClass]="{ opened: parentInstance.opened,
  'has-date': fsDatePickerModel.components.indexOf('calendar-start') !== -1,
  'has-time': fsDatePickerModel.components.indexOf('time-start') !== -1,
  'view-year': fsDatePickerModel.dateMode=='year',
  'view-month': fsDatePickerModel.dateMode=='month',
  'view-date': fsDatePickerModel.dateMode=='date' }">
  <div class="wrap">

    <div class="header">
      <fsDatePickerSummary
      [startDate]="model"
      (componentsChange)="setComponents($event)"
      ></fsDatePickerSummary>

      <fsDatePickerPresets
      *ngIf="fsDatePickerModel.components.indexOf('time-start') === -1"
      ></fsDatePickerPresets>
    </div>

    <div class="date-time">
      <fsDatePickerCalendar
        *ngIf="fsDatePickerModel.components.indexOf('calendar-start') !== -1"
        [date]="model"
        [dateMode]="fsDatePickerModel.dateMode"
        (onChange)="setDate($event)"
        (onDateModeChange)="setDateMode($event)"
      ></fsDatePickerCalendar>

      <fsDatePickerTime
        *ngIf="fsDatePickerModel.components.indexOf('time-start') !== -1"
        [date]="model"
        (onChange)="setDate($event)"
      ></fsDatePickerTime>

    </div>
    <div class="done" *ngIf="fsDatePickerModel.components.indexOf('time-start') !== -1">
      <button type="button" mat-raised-button color="primary" (click)="close($event)">Done</button>
    </div>
  </div>
</div>
